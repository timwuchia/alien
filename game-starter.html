<html>
<head>

<script>

onload=function(){

var myTimer = null;
var step = 11;
var img = document.getElementById('alien');
var imgWidth = img.clientWidth;
var OriTop = 100;
var OriLeft = 12;

var jumpButton = document.getElementById('jump_btn');
//var counter = 0;
//counter++;

// Jumping Variables
var jumpPeak = 8;
var isJumping = false;
var jumpCounter = 0;
var jumpTimer;

function move(){

	step++
	if(step >= 30){
		step = 0
	}

	
	img.style.left = parseInt(img.style.left)+1+'px'
	img.src='images/alien/alienrwalk' + step + '.gif'
}
	
	img.onclick=function(){
		if(myTimer == null){
			// not running; let's start a timer
			myTimer = setInterval(move, 10)
		}else{
			// timer is already running; let's stop it 
			clearInterval(myTimer)
			myTimer = null
		}
	}

	function jump(){
        
    //var counter = 0;
		jumpCounter++;


		/*
		if(jumpCounter > jumpPeak * 2){
			isJumping = false;
			jumpCounter = 0;
			clearInterval(jumpTimer);
			return;
		}

		if(jumpCounter < jumpPeak){
			img.style.top = OriTop - jumpCounter + 'px';
		}else{
			img.style.top = jumpCounter + 'px';
		}
		*/

		//  y = -ax^2 + b

		var jumpHeight = -Math.pow(jumpCounter - jumpPeak, 2) + Math.pow(jumpPeak,2);
		img.style.top = OriTop - jumpHeight + 'px';
		console.log(jumpHeight);

		if(jumpHeight == 0){
			isJumping = false;
			jumpCounter = 0;
			clearInterval(jumpTimer);
		}

	}

	jumpButton.onclick=function(){

		if(!isJumping){
			isJumping = true;
			jumpTimer = setInterval(jump,17);
		}

	}
}
</script>
</head>
<body>
	<img src="images/alien/alienrwalk11.gif" id="alien" 
	     style="position:absolute; left:12px; top:100px">
	<button name="jump" id="jump_btn">jump</button>
</body>
</html>